<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>13 The Small World Problem and the Art-Science of Simulation | Methods for Network Analysis</title>
  <meta name="description" content="13 The Small World Problem and the Art-Science of Simulation | Methods for Network Analysis" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="13 The Small World Problem and the Art-Science of Simulation | Methods for Network Analysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="13 The Small World Problem and the Art-Science of Simulation | Methods for Network Analysis" />
  
  
  

<meta name="author" content="Mark Hoffman" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="centrality.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this Course</a></li>
<li class="chapter" data-level="1" data-path="reading-list.html"><a href="reading-list.html"><i class="fa fa-check"></i><b>1</b> Reading List</a><ul>
<li class="chapter" data-level="1.0.1" data-path="reading-list.html"><a href="reading-list.html#week-1-beg.-jan.6th-introductions-and-introduction-to-r"><i class="fa fa-check"></i><b>1.0.1</b> Week 1 (beg. Jan. 6th): Introductions and Introduction to R</a></li>
<li class="chapter" data-level="1.0.2" data-path="reading-list.html"><a href="reading-list.html#week-2-beg.-jan.13th-types-of-networks"><i class="fa fa-check"></i><b>1.0.2</b> Week 2 (beg. Jan. 13th): Types of networks</a></li>
<li class="chapter" data-level="1.0.3" data-path="reading-list.html"><a href="reading-list.html#week-3-beg.-jan.20th-triads-balance-and-hierarchy"><i class="fa fa-check"></i><b>1.0.3</b> Week 3 (beg. Jan. 20th): Triads, Balance and Hierarchy</a></li>
<li class="chapter" data-level="1.0.4" data-path="reading-list.html"><a href="reading-list.html#week-4-beg.-jan.27th-centrality-power-and-inequality"><i class="fa fa-check"></i><b>1.0.4</b> Week 4 (beg. Jan. 27th): Centrality, Power, and Inequality</a></li>
<li class="chapter" data-level="1.0.5" data-path="reading-list.html"><a href="reading-list.html#week-5-beg.-feb.3rd-connectivity-and-the-small-world-problem"><i class="fa fa-check"></i><b>1.0.5</b> Week 5 (beg. Feb. 3rd): Connectivity and the Small World Problem</a></li>
<li class="chapter" data-level="1.0.6" data-path="reading-list.html"><a href="reading-list.html#week-6-beg.-feb.10th-groups-communities-and-homophily"><i class="fa fa-check"></i><b>1.0.6</b> Week 6 (beg. Feb. 10th): Groups, Communities, and Homophily</a></li>
<li class="chapter" data-level="1.0.7" data-path="reading-list.html"><a href="reading-list.html#week-7-beg.-feb.17th-categories-and-positions"><i class="fa fa-check"></i><b>1.0.7</b> Week 7 (beg. Feb. 17th): Categories and Positions</a></li>
<li class="chapter" data-level="1.0.8" data-path="reading-list.html"><a href="reading-list.html#week-8-beg.-feb.24th-networks-from-culture-and-culture-from-networks"><i class="fa fa-check"></i><b>1.0.8</b> Week 8 (beg. Feb. 24th): Networks from Culture and Culture from Networks</a></li>
<li class="chapter" data-level="1.0.9" data-path="reading-list.html"><a href="reading-list.html#week-9-beg.-mar.2nd-dynamics-and-diffusion"><i class="fa fa-check"></i><b>1.0.9</b> Week 9 (beg. Mar. 2nd): Dynamics and Diffusion</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html"><i class="fa fa-check"></i><b>2</b> Installing R and RStudio</a><ul>
<li class="chapter" data-level="2.1" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#downloading-and-installing-r"><i class="fa fa-check"></i><b>2.1</b> Downloading and Installing R</a></li>
<li class="chapter" data-level="2.2" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#downloading-and-installing-rstudio"><i class="fa fa-check"></i><b>2.2</b> Downloading and Installing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tour-rstudio-with-udacity.html"><a href="tour-rstudio-with-udacity.html"><i class="fa fa-check"></i><b>3</b> Tour RStudio with Udacity</a></li>
<li class="chapter" data-level="4" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>4</b> R Basics</a><ul>
<li class="chapter" data-level="4.1" data-path="r-basics.html"><a href="r-basics.html#vectors-matrices-and-data.frames"><i class="fa fa-check"></i><b>4.1</b> Vectors, matrices and data.frames</a></li>
<li class="chapter" data-level="4.2" data-path="r-basics.html"><a href="r-basics.html#indexing-and-subsetting"><i class="fa fa-check"></i><b>4.2</b> Indexing and Subsetting</a></li>
<li class="chapter" data-level="4.3" data-path="r-basics.html"><a href="r-basics.html#loading-packages"><i class="fa fa-check"></i><b>4.3</b> Loading Packages</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="understanding-network-data-structures.html"><a href="understanding-network-data-structures.html"><i class="fa fa-check"></i><b>5</b> Understanding network data structures</a><ul>
<li class="chapter" data-level="5.1" data-path="understanding-network-data-structures.html"><a href="understanding-network-data-structures.html#edge-lists"><i class="fa fa-check"></i><b>5.1</b> Edge lists</a></li>
<li class="chapter" data-level="5.2" data-path="understanding-network-data-structures.html"><a href="understanding-network-data-structures.html#adjacency-matrices"><i class="fa fa-check"></i><b>5.2</b> Adjacency matrices</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="your-first-network.html"><a href="your-first-network.html"><i class="fa fa-check"></i><b>6</b> Your First Network</a><ul>
<li class="chapter" data-level="6.1" data-path="your-first-network.html"><a href="your-first-network.html#creating-a-project"><i class="fa fa-check"></i><b>6.1</b> Creating a project</a></li>
<li class="chapter" data-level="6.2" data-path="your-first-network.html"><a href="your-first-network.html#creating-data-in-excel"><i class="fa fa-check"></i><b>6.2</b> Creating data in Excel</a></li>
<li class="chapter" data-level="6.3" data-path="your-first-network.html"><a href="your-first-network.html#saving-excel-data-as-a-.csv-file"><i class="fa fa-check"></i><b>6.3</b> Saving Excel data as a .csv file</a></li>
<li class="chapter" data-level="6.4" data-path="your-first-network.html"><a href="your-first-network.html#loading-data-into-r"><i class="fa fa-check"></i><b>6.4</b> Loading data into R</a></li>
<li class="chapter" data-level="6.5" data-path="your-first-network.html"><a href="your-first-network.html#from-data-to-networks"><i class="fa fa-check"></i><b>6.5</b> From data to networks</a></li>
<li class="chapter" data-level="6.6" data-path="your-first-network.html"><a href="your-first-network.html#exploring-your-network"><i class="fa fa-check"></i><b>6.6</b> Exploring your network</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="network-visualization-and-aesthetics.html"><a href="network-visualization-and-aesthetics.html"><i class="fa fa-check"></i><b>7</b> Network Visualization and Aesthetics</a><ul>
<li class="chapter" data-level="7.1" data-path="network-visualization-and-aesthetics.html"><a href="network-visualization-and-aesthetics.html#the-basics"><i class="fa fa-check"></i><b>7.1</b> The Basics</a></li>
<li class="chapter" data-level="7.2" data-path="network-visualization-and-aesthetics.html"><a href="network-visualization-and-aesthetics.html#layouts"><i class="fa fa-check"></i><b>7.2</b> Layouts</a></li>
<li class="chapter" data-level="7.3" data-path="network-visualization-and-aesthetics.html"><a href="network-visualization-and-aesthetics.html#adding-attributes-to-a-network-object"><i class="fa fa-check"></i><b>7.3</b> Adding attributes to a network object</a></li>
<li class="chapter" data-level="7.4" data-path="network-visualization-and-aesthetics.html"><a href="network-visualization-and-aesthetics.html#plotting-based-on-attributes"><i class="fa fa-check"></i><b>7.4</b> Plotting based on attributes</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ego-networks.html"><a href="ego-networks.html"><i class="fa fa-check"></i><b>8</b> Ego Networks</a></li>
<li class="chapter" data-level="9" data-path="calculating-network-size-and-density.html"><a href="calculating-network-size-and-density.html"><i class="fa fa-check"></i><b>9</b> Calculating Network Size and Density</a></li>
<li class="chapter" data-level="10" data-path="affiliation-data.html"><a href="affiliation-data.html"><i class="fa fa-check"></i><b>10</b> Affiliation Data</a><ul>
<li class="chapter" data-level="10.0.1" data-path="affiliation-data.html"><a href="affiliation-data.html#unipartite-projection"><i class="fa fa-check"></i><b>10.0.1</b> Unipartite Projection</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="transitivity-structural-balance-and-hierarchy.html"><a href="transitivity-structural-balance-and-hierarchy.html"><i class="fa fa-check"></i><b>11</b> Transitivity, structural, balance, and hierarchy</a><ul>
<li class="chapter" data-level="11.1" data-path="transitivity-structural-balance-and-hierarchy.html"><a href="transitivity-structural-balance-and-hierarchy.html#the-dyad"><i class="fa fa-check"></i><b>11.1</b> The Dyad</a></li>
<li class="chapter" data-level="11.2" data-path="transitivity-structural-balance-and-hierarchy.html"><a href="transitivity-structural-balance-and-hierarchy.html#generating-a-random-graph-for-comparison"><i class="fa fa-check"></i><b>11.2</b> Generating a random graph for comparison</a></li>
<li class="chapter" data-level="11.3" data-path="transitivity-structural-balance-and-hierarchy.html"><a href="transitivity-structural-balance-and-hierarchy.html#the-triad"><i class="fa fa-check"></i><b>11.3</b> The Triad</a></li>
<li class="chapter" data-level="11.4" data-path="transitivity-structural-balance-and-hierarchy.html"><a href="transitivity-structural-balance-and-hierarchy.html#calculating-a-triad-census"><i class="fa fa-check"></i><b>11.4</b> Calculating a triad census</a></li>
<li class="chapter" data-level="11.5" data-path="transitivity-structural-balance-and-hierarchy.html"><a href="transitivity-structural-balance-and-hierarchy.html#random-graphs-galore"><i class="fa fa-check"></i><b>11.5</b> Random graphs galore!</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="centrality.html"><a href="centrality.html"><i class="fa fa-check"></i><b>12</b> Centrality</a><ul>
<li class="chapter" data-level="12.0.1" data-path="centrality.html"><a href="centrality.html#loading-the-example-network"><i class="fa fa-check"></i><b>12.0.1</b> Loading the example network</a></li>
<li class="chapter" data-level="12.0.2" data-path="centrality.html"><a href="centrality.html#degree-centrality"><i class="fa fa-check"></i><b>12.0.2</b> Degree Centrality</a></li>
<li class="chapter" data-level="12.0.3" data-path="centrality.html"><a href="centrality.html#betweenness-centrality"><i class="fa fa-check"></i><b>12.0.3</b> Betweenness Centrality</a></li>
<li class="chapter" data-level="12.0.4" data-path="centrality.html"><a href="centrality.html#closeness-centrality"><i class="fa fa-check"></i><b>12.0.4</b> Closeness Centrality</a></li>
<li class="chapter" data-level="12.1" data-path="centrality.html"><a href="centrality.html#eigenvector-centrality"><i class="fa fa-check"></i><b>12.1</b> Eigenvector Centrality</a></li>
<li class="chapter" data-level="12.2" data-path="centrality.html"><a href="centrality.html#bonacich-centrality"><i class="fa fa-check"></i><b>12.2</b> Bonacich Centrality</a><ul>
<li class="chapter" data-level="12.2.1" data-path="centrality.html"><a href="centrality.html#measure-correlations"><i class="fa fa-check"></i><b>12.2.1</b> Measure Correlations</a></li>
<li class="chapter" data-level="12.2.2" data-path="centrality.html"><a href="centrality.html#centralization-and-degree-distributions"><i class="fa fa-check"></i><b>12.2.2</b> Centralization and Degree Distributions</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="centrality.html"><a href="centrality.html#distance-weighted-reach"><i class="fa fa-check"></i><b>12.3</b> Distance weighted reach</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="the-small-world-problem-and-the-art-science-of-simulation.html"><a href="the-small-world-problem-and-the-art-science-of-simulation.html"><i class="fa fa-check"></i><b>13</b> The Small World Problem and the Art-Science of Simulation</a><ul>
<li class="chapter" data-level="13.0.1" data-path="the-small-world-problem-and-the-art-science-of-simulation.html"><a href="the-small-world-problem-and-the-art-science-of-simulation.html#other-simulations"><i class="fa fa-check"></i><b>13.0.1</b> Other simulations</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Methods for Network Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-small-world-problem-and-the-art-science-of-simulation" class="section level1">
<h1><span class="header-section-number">13</span> The Small World Problem and the Art-Science of Simulation</h1>
<p>Real-world social networks tend to be small worlds. In a small world, people are clustered in groups, but despite this, are still, on average, socially proximate. For example, you might think that you are socially (and spatially) distant from a random villager in India, but find that through a series of steps, you could reach that villager. The villager lives in her own small world and you live in yours, and yet you are mutually reachable. This is referred to as “the Small-World Phenomenon”.</p>
<p>Duncan Watts in his landmark paper explains this phenomenon. He begins with most clustered (and yet connected graph) imaginable - a “caveman” structure. There are groups of people clustered together and connected by only one or two connections to other groups.</p>
<p>Sadly, igraph doesn’t have a function for simulating caveman structures, so I quickly wrote one myself. In this caveman structure, all of the groups will be the same size, so the number of people must be evenly divisible by the size of groups. The basic idea is to generate a bunch of fully connected groups and then connect them by an edge or two so that they are arrayed around a circle.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb208-1" data-line-number="1">simulate_caveman &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">n =</span> <span class="dv">25</span>, <span class="dt">clique_size =</span> <span class="dv">5</span>){</a>
<a class="sourceLine" id="cb208-2" data-line-number="2">  <span class="kw">require</span>(igraph)</a>
<a class="sourceLine" id="cb208-3" data-line-number="3">  <span class="co"># Groups are all the same size, so I check whether N is divisible by the size of groups</span></a>
<a class="sourceLine" id="cb208-4" data-line-number="4">  <span class="cf">if</span> ( ((n<span class="op">%/%</span>clique_size) <span class="op">*</span><span class="st"> </span>clique_size) <span class="op">!=</span><span class="st"> </span>n){</a>
<a class="sourceLine" id="cb208-5" data-line-number="5">    <span class="kw">stop</span>(<span class="st">&quot;n is not evenly divisible by clique_size&quot;</span>)</a>
<a class="sourceLine" id="cb208-6" data-line-number="6">  }</a>
<a class="sourceLine" id="cb208-7" data-line-number="7">  </a>
<a class="sourceLine" id="cb208-8" data-line-number="8">  groups =<span class="st"> </span>n<span class="op">/</span>clique_size <span class="co"># this determines the number of groups</span></a>
<a class="sourceLine" id="cb208-9" data-line-number="9">  </a>
<a class="sourceLine" id="cb208-10" data-line-number="10">  el &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">PersonA =</span> <span class="dv">1</span><span class="op">:</span>n, <span class="dt">Group =</span> <span class="ot">NA</span>) <span class="co"># I create a dataframe which has people and the groups they are in</span></a>
<a class="sourceLine" id="cb208-11" data-line-number="11">  <span class="co"># I treat it like a person to group edgelist</span></a>
<a class="sourceLine" id="cb208-12" data-line-number="12">  </a>
<a class="sourceLine" id="cb208-13" data-line-number="13">  group_vector =<span class="st"> </span><span class="kw">c</span>()</a>
<a class="sourceLine" id="cb208-14" data-line-number="14">  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>groups){</a>
<a class="sourceLine" id="cb208-15" data-line-number="15">    group_vector &lt;-<span class="st"> </span><span class="kw">c</span>(group_vector, <span class="kw">rep</span>(i, clique_size))</a>
<a class="sourceLine" id="cb208-16" data-line-number="16">  }  </a>
<a class="sourceLine" id="cb208-17" data-line-number="17"></a>
<a class="sourceLine" id="cb208-18" data-line-number="18">  el<span class="op">$</span>Group &lt;-<span class="st"> </span>group_vector</a>
<a class="sourceLine" id="cb208-19" data-line-number="19">  </a>
<a class="sourceLine" id="cb208-20" data-line-number="20">  inc &lt;-<span class="st"> </span><span class="kw">table</span>(el) <span class="co"># I use the table function to turn the person to group edgelist into an incidence matrix</span></a>
<a class="sourceLine" id="cb208-21" data-line-number="21">  adj &lt;-<span class="st"> </span>inc <span class="op">%*%</span><span class="st"> </span><span class="kw">t</span>(inc) <span class="co"># And I use matrix multiplication with the transpose to turn the person to group incidence matrix</span></a>
<a class="sourceLine" id="cb208-22" data-line-number="22">  <span class="co"># into a person to person adjacency matrix</span></a>
<a class="sourceLine" id="cb208-23" data-line-number="23">  </a>
<a class="sourceLine" id="cb208-24" data-line-number="24">  <span class="kw">diag</span>(adj) &lt;-<span class="st"> </span><span class="dv">0</span> </a>
<a class="sourceLine" id="cb208-25" data-line-number="25">  </a>
<a class="sourceLine" id="cb208-26" data-line-number="26">  g &lt;-<span class="st"> </span><span class="kw">graph.adjacency</span>(adj, <span class="dt">mode =</span> <span class="st">&quot;undirected&quot;</span>) <span class="co"># I graph this matrix</span></a>
<a class="sourceLine" id="cb208-27" data-line-number="27"></a>
<a class="sourceLine" id="cb208-28" data-line-number="28">  group_connect &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>, <span class="dt">to =</span> n, <span class="dt">by =</span> clique_size) <span class="co"># I determine the points of connection using a sequence funciton</span></a>
<a class="sourceLine" id="cb208-29" data-line-number="29">  </a>
<a class="sourceLine" id="cb208-30" data-line-number="30">  <span class="cf">for</span>( i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(<span class="kw">length</span>(group_connect)<span class="op">-</span><span class="dv">1</span>)){</a>
<a class="sourceLine" id="cb208-31" data-line-number="31">    p1 &lt;-<span class="st"> </span>group_connect[i] <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb208-32" data-line-number="32">    p2 &lt;-<span class="st"> </span>group_connect[i<span class="op">+</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb208-33" data-line-number="33">    g &lt;-<span class="st"> </span><span class="kw">add.edges</span>(g, <span class="kw">c</span>(p1,p2)) <span class="co"># And I connect the points of connection using add.edges</span></a>
<a class="sourceLine" id="cb208-34" data-line-number="34">  }</a>
<a class="sourceLine" id="cb208-35" data-line-number="35">    g &lt;-<span class="st"> </span><span class="kw">add.edges</span>(g, <span class="kw">c</span>(group_connect[<span class="dv">1</span>],(group_connect[groups]<span class="op">+</span><span class="dv">1</span>))) <span class="co"># finally I connect the ends of the structure so that it forms a circle</span></a>
<a class="sourceLine" id="cb208-36" data-line-number="36"></a>
<a class="sourceLine" id="cb208-37" data-line-number="37">    <span class="kw">return</span>(g)    </a>
<a class="sourceLine" id="cb208-38" data-line-number="38">}</a></code></pre></div>
<p>You don’t have to understand every part of this function in order to use it. All you need to do is run the function above so that it is in your R environment. You can then use it.</p>
<p>It has two arguments - number of nodes and the size of the groups. You could change clique_size to 4 or 10.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb209-1" data-line-number="1">caveman_net &lt;-<span class="st"> </span><span class="kw">simulate_caveman</span>(<span class="dt">n =</span> <span class="dv">100</span>, <span class="dt">clique_size =</span> <span class="dv">5</span>) </a>
<a class="sourceLine" id="cb209-2" data-line-number="2"><span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb209-3" data-line-number="3"><span class="kw">plot</span>(caveman_net, <span class="dt">layout =</span> <span class="kw">layout.kamada.kawai</span>(caveman_net), <span class="dt">vertex.size =</span> <span class="dv">2</span>, <span class="dt">vertex.label =</span> <span class="ot">NA</span>, <span class="dt">vertex.color =</span> <span class="st">&quot;grey80&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-123-1.png" width="672" /></p>
<p>Now you can clearly see what a caveman structure is. Let’s analyze it.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" data-line-number="1"><span class="kw">graph.density</span>(caveman_net)</a></code></pre></div>
<pre><code>## [1] 0.04444444</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" data-line-number="1"><span class="kw">transitivity</span>(caveman_net) <span class="co"># transitivity() measures clustering coefficient, which essentially says, how clustered is the network overall</span></a></code></pre></div>
<pre><code>## [1] 0.7894737</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" data-line-number="1"><span class="kw">average.path.length</span>(caveman_net)</a></code></pre></div>
<pre><code>## [1] 10.70101</code></pre>
<p>It has a pretty low density since most nodes only have connections within their clique or else one tie outwards. And as I mentioned above, caveman structures are extremely clustered, since most edges are within group.</p>
<p>Path length is also high - basically it takes 10 steps, on average, to reach one node from a random other node. In the real world, there are way more than 100 people and more than 20 groups, so it should be even more surprising that the average degree of separation is roughly six or seven steps. It follows that the “caveman structure” is not a small-world.</p>
<p>We can look at the diameter of the network to see this too. The diameter is the longest shortest path.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" data-line-number="1">nodes.diameter&lt;-<span class="kw">get.diameter</span>(caveman_net)</a>
<a class="sourceLine" id="cb216-2" data-line-number="2"><span class="kw">V</span>(caveman_net)[nodes.diameter]<span class="op">$</span>color&lt;-<span class="st">&quot;darkgreen&quot;</span> <span class="co"># This assigns those nodes the color darkgreen.</span></a>
<a class="sourceLine" id="cb216-3" data-line-number="3"><span class="kw">plot</span>(caveman_net, <span class="dt">layout =</span> <span class="kw">layout.kamada.kawai</span>(caveman_net), <span class="dt">vertex.size =</span> <span class="dv">2</span>, <span class="dt">vertex.label =</span> <span class="ot">NA</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-125-1.png" width="672" /></p>
<p>Let’s reset color.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb217-1" data-line-number="1"><span class="kw">V</span>(caveman_net)<span class="op">$</span>color &lt;-<span class="st"> &quot;orange&quot;</span></a></code></pre></div>
<p>Watts wants to get from this network structure, to one in which the average path length is much lower. He performs a simple exercise to do so (and one we have already experimented with). He randomly rewires the network so that it begins, slowly to approximate a random graph. Random graphs have low average path length; so this is a good idea.</p>
<p>We end up with a caveman structure with some number of rewired edges that will have the tendency to cut across the network</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" data-line-number="1">caveman_net_rewired &lt;-<span class="st">  </span><span class="kw">rewire</span>(caveman_net, <span class="kw">keeping_degseq</span>(<span class="dt">niter =</span> <span class="dv">1000</span>))</a></code></pre></div>
<p>We can use the rewire function to rewire the network. keeping_degseq() ensures that the degree distribution does not change and niter = 20 is the number of iterations (rewirings).</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb219-1" data-line-number="1"><span class="kw">plot</span>(caveman_net_rewired, <span class="dt">layout =</span> <span class="kw">layout.kamada.kawai</span>(caveman_net), <span class="dt">vertex.size =</span> <span class="dv">2</span>, <span class="dt">vertex.label=</span><span class="ot">NA</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-128-1.png" width="672" /></p>
<p>Most of the rewirings cut across the network structure!</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" data-line-number="1"><span class="kw">plot</span>(caveman_net_rewired, <span class="dt">layout =</span> <span class="kw">layout.kamada.kawai</span>(caveman_net_rewired), <span class="dt">vertex.size =</span> <span class="dv">2</span>, <span class="dt">vertex.label=</span><span class="ot">NA</span>) <span class="co"># Here it is laid out properly</span></a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-129-1.png" width="672" /></p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" data-line-number="1"><span class="kw">plot</span>(caveman_net_rewired, <span class="dt">layout =</span> <span class="kw">layout.kamada.kawai</span>(caveman_net_rewired), <span class="dt">vertex.size =</span> <span class="dv">2</span>, <span class="dt">vertex.label =</span> <span class="ot">NA</span>, <span class="dt">vertex.color =</span> <span class="st">&quot;grey80&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-129-2.png" width="672" /></p>
<p>Let’s compare this to the caveman network.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" data-line-number="1"><span class="kw">graph.density</span>(caveman_net_rewired) </a></code></pre></div>
<pre><code>## [1] 0.04444444</code></pre>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" data-line-number="1"><span class="kw">transitivity</span>(caveman_net_rewired) </a></code></pre></div>
<pre><code>## [1] 0.02368421</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" data-line-number="1"><span class="kw">average.path.length</span>(caveman_net_rewired)</a></code></pre></div>
<pre><code>## [1] 3.247879</code></pre>
<p>Density is unchanged. Clustering coefficient is less than before, but still relatively high. And average.path.length was cut in half. Only 20 rewirings and look at the change!</p>
<p>We can analyze the change as we perform more rewirings.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" data-line-number="1">caveman_net_rewired &lt;-<span class="st"> </span><span class="kw">simulate_caveman</span>(<span class="dt">n =</span> <span class="dv">100</span>, <span class="dt">clique_size =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb228-2" data-line-number="2">avgpathlength &lt;-<span class="st"> </span><span class="kw">average.path.length</span>(caveman_net_rewired) <span class="co"># These are the first observation</span></a>
<a class="sourceLine" id="cb228-3" data-line-number="3">clusteringcoefficient &lt;-<span class="st"> </span><span class="kw">transitivity</span>(caveman_net_rewired)</a>
<a class="sourceLine" id="cb228-4" data-line-number="4"></a>
<a class="sourceLine" id="cb228-5" data-line-number="5"></a>
<a class="sourceLine" id="cb228-6" data-line-number="6"></a>
<a class="sourceLine" id="cb228-7" data-line-number="7">iter =<span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb228-8" data-line-number="8"><span class="cf">for</span> ( i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span>iter){</a>
<a class="sourceLine" id="cb228-9" data-line-number="9">  caveman_net_rewired &lt;-<span class="st"> </span>caveman_net_rewired <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">rewire</span>(<span class="kw">keeping_degseq</span>(<span class="dt">niter =</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb228-10" data-line-number="10">  avgpathlength &lt;-<span class="st"> </span><span class="kw">c</span>(avgpathlength, <span class="kw">average.path.length</span>(caveman_net_rewired)) <span class="co"># We are just appending the result to a vector</span></a>
<a class="sourceLine" id="cb228-11" data-line-number="11">  clusteringcoefficient &lt;-<span class="st"> </span><span class="kw">c</span>(clusteringcoefficient, <span class="kw">transitivity</span>(caveman_net_rewired))</a>
<a class="sourceLine" id="cb228-12" data-line-number="12">}</a>
<a class="sourceLine" id="cb228-13" data-line-number="13"></a>
<a class="sourceLine" id="cb228-14" data-line-number="14"><span class="kw">plot</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, avgpathlength, <span class="dt">xlab =</span> <span class="st">&quot;Numer of Rewirings&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Average Path Length&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Caveman&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>)</a>
<a class="sourceLine" id="cb228-15" data-line-number="15"><span class="kw">lines</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, clusteringcoefficient)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-131-1.png" width="672" /></p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb229-1" data-line-number="1"><span class="kw">plot</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, clusteringcoefficient, <span class="dt">xlab =</span> <span class="st">&quot;Numer of Rewirings&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Clustering Coefficient&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Caveman&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-131-2.png" width="672" /></p>
<div id="other-simulations" class="section level3">
<h3><span class="header-section-number">13.0.1</span> Other simulations</h3>
<p>Simulations are used a lot in networks. We only talk in class about random nets and small-worlds, but there are many ideal-type networks. The third most famous is the “scale-free” network. “scale-free networks” are also known as hub-based networks, because they have a few actors with high degree and many actors with low degree. They are therefore highly centralized, and generally have low clustering.</p>
<p>igraph has a built in function to generate this class of networks: barabasi.game()</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" data-line-number="1">scalefree &lt;-<span class="st"> </span><span class="kw">barabasi.game</span>(<span class="dt">n=</span><span class="dv">100</span>, <span class="dt">m=</span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb230-2" data-line-number="2"><span class="kw">plot</span>(scalefree, <span class="dt">vertex.size =</span> <span class="dv">3</span>, <span class="dt">layout =</span> <span class="kw">layout.kamada.kawai</span>(scalefree), <span class="dt">edge.arrow.size =</span> <span class="fl">.1</span>, <span class="dt">vertex.label=</span><span class="ot">NA</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-132-1.png" width="672" /></p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb231-1" data-line-number="1"><span class="kw">graph.density</span>(scalefree)</a></code></pre></div>
<pre><code>## [1] 0.0489899</code></pre>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb233-1" data-line-number="1"><span class="kw">transitivity</span>(scalefree) </a></code></pre></div>
<pre><code>## [1] 0.1876027</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb235-1" data-line-number="1"><span class="kw">average.path.length</span>(scalefree)</a></code></pre></div>
<pre><code>## [1] 1.624752</code></pre>
<p>Density, when m = 5, is roughly the same as the small-world network. Clustering coefficient is much lower. And average path length is short, because people can access almost everyone else via the hubs in the network.</p>
<p>Look for other games in the igraph manual… or, you can write your own like we did above.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="centrality.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
